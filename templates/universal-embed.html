<!-- Per-page config: edit only the attributes on this div -->
<div id="feature-root" data-section="sections/featured/models.html"
    data-base="https://cdn.jsdelivr.net/gh/traffy-sod/rc-item-json@main/data/" data-part="AXI-1375">
</div>

<link rel="preconnect" href="https://cdn.jsdelivr.net">
<script>
    (function () {
        var GH_USER = "traffy-sod";
        var GH_REPO = "rc-item-json";
        var GH_TAG = "main";

        var root = document.getElementById("feature-root");
        if (!root) return;

        var sectionPath = root.getAttribute("data-section");
        if (!sectionPath) return;

        var BASE = "https://cdn.jsdelivr.net/gh/" + GH_USER + "/" + GH_REPO + "@" + GH_TAG + "/";

        fetch(BASE + sectionPath, { cache: "force-cache" })
            .then(function (r) { if (!r.ok) throw new Error("HTTP " + r.status); return r.text(); })
            .then(function (html) {
                var tmp = document.createElement("div"); tmp.innerHTML = html;
                var sectionRoot = tmp.querySelector(".tabs-models") || tmp.firstElementChild;

                // pass-through JSON settings if present
                ["data-base", "data-part", "data-v", "data-source"].forEach(function (attr) {
                    var val = root.getAttribute(attr);
                    if (val && sectionRoot) sectionRoot.setAttribute(attr, val);
                });

                // inject and re-execute inline scripts
                while (tmp.firstChild) {
                    var node = tmp.firstChild; tmp.removeChild(node);
                    if (node.tagName === "SCRIPT") {
                        var s = document.createElement("script");
                        if (node.src) s.src = node.src; else s.textContent = node.textContent;
                        (sectionRoot || root).appendChild(s);
                    } else {
                        root.appendChild(node);
                    }
                }
            })
            .catch(function (err) { console.warn("Section load failed:", err); });
    })();
</script>