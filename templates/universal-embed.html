<!-- Per-page config: edit these attributes only -->
<div id="feature-root" data-section="sections/featured/models.html"
    data-base="https://cdn.jsdelivr.net/gh/<YourUser>/RC-item-JSON@main/data/" data-part="AXI-1375">
</div>

<link rel="preconnect" href="https://cdn.jsdelivr.net">
<script>
    (function () {
        var GH_USER = "<YourUser>";     // set once
        var GH_REPO = "RC-item-JSON";   // set once
        var GH_TAG = "main";           // branch or tag

        var root = document.getElementById("feature-root");
        if (!root) return;

        var sectionPath = root.getAttribute("data-section");
        if (!sectionPath) return;

        var BASE = "https://cdn.jsdelivr.net/gh/" + GH_USER + "/" + GH_REPO + "@" + GH_TAG + "/";

        // Fetch the HTML skeleton from GitHub and inject it
        fetch(BASE + sectionPath, { cache: "force-cache" })
            .then(function (r) { if (!r.ok) throw new Error("HTTP " + r.status); return r.text(); })
            .then(function (html) {
                var tmp = document.createElement("div");
                tmp.innerHTML = html;

                // Find the inserted section root and apply JSON settings if present
                var sectionRoot = tmp.querySelector(".tabs-models") || tmp.firstElementChild;

                var dataBase = root.getAttribute("data-base");
                var dataPart = root.getAttribute("data-part");
                var dataV = root.getAttribute("data-v"); // optional cache buster

                if (sectionRoot) {
                    if (dataBase) sectionRoot.setAttribute("data-base", dataBase);
                    if (dataPart) sectionRoot.setAttribute("data-part", dataPart);
                    if (dataV) sectionRoot.setAttribute("data-v", dataV);
                }

                // Move nodes and re-execute inline scripts
                while (tmp.firstChild) {
                    var node = tmp.firstChild;
                    tmp.removeChild(node);
                    if (node.tagName === "SCRIPT") {
                        var s = document.createElement("script");
                        if (node.src) s.src = node.src; else s.textContent = node.textContent;
                        (sectionRoot || root).appendChild(s);
                    } else {
                        root.appendChild(node);
                    }
                }
            })
            .catch(function (err) { console.warn("Section load failed:", err); });
    })();
</script>