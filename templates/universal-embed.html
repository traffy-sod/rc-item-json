<!-- Per-page config -->
<div id="feature-root" data-section="sections/featured/models.html" data-part="" data-base=""
    data-source="https://cdn.jsdelivr.net/gh/traffy-sod/rc-item-json@main/data/AXI-1375.json">
</div>

<link rel="preconnect" href="https://cdn.jsdelivr.net">
<script>
    (function () {
        var GH_USER = "traffy-sod";
        var GH_REPO = "rc-item-json";
        var GH_TAG = "main";

        var root = document.getElementById("feature-root");
        if (!root) return;

        var sectionPath = root.getAttribute("data-section");
        if (!sectionPath) return;

        var BASE = "https://cdn.jsdelivr.net/gh/" + GH_USER + "/" + GH_REPO + "@" + GH_TAG + "/";

        fetch(BASE + sectionPath, { cache: "force-cache" })
            .then(function (r) { if (!r.ok) throw new Error("HTTP " + r.status); return r.text(); })
            .then(function (html) {
                var tmp = document.createElement("div");
                tmp.innerHTML = html;

                // 1) find section, append it first
                var sectionRoot = tmp.querySelector(".tabs-models") || tmp.firstElementChild;
                if (!sectionRoot) throw new Error("No .tabs-models in section");

                // 2) pass-through BEFORE scripts, even if empty strings
                ["data-base", "data-part", "data-v", "data-source"].forEach(function (attr) {
                    if (root.hasAttribute(attr)) sectionRoot.setAttribute(attr, root.getAttribute(attr));
                });

                // 3) append the main section to DOM
                root.appendChild(sectionRoot);

                // 4) then re-execute inline scripts in that section
                var nodes = Array.prototype.slice.call(tmp.childNodes);
                nodes.forEach(function (node) {
                    if (node === sectionRoot) return;
                    if (node.tagName === "SCRIPT") {
                        var s = document.createElement("script");
                        if (node.src) s.src = node.src; else s.textContent = node.textContent;
                        sectionRoot.appendChild(s);
                    } else {
                        root.appendChild(node);
                    }
                });
            })
            .catch(function (err) {
                console.warn("Section load failed:", err);
                var errBox = document.createElement("div");
                errBox.style.cssText = "margin:8px 0;padding:10px;border:1px solid #c33;color:#fff;background:#a33;font:14px/1.4 system-ui";
                errBox.textContent = "Content unavailable. Loader error: " + err.message;
                root.appendChild(errBox);
            });
    })();
</script>